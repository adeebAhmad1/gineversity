{"version":3,"sources":["components/community/addPost/index.js"],"names":["index","state","text","isImg","selectedImage","step","topicId","e","preventDefault","profile","this","props","data","postedBy","_id","feed","setState","submit","event","target","files","type","URL","createObjectURL","className","style","maxHeight","overflow","display","flexDirection","alignItems","cursor","data-toggle","data-target","src","image","User","alt","width","height","borderRadius","fontWeight","fontSize","name","value","autoFocus","placeholder","onChange","justifyContent","aria-hidden","accept","handleImagePreview","list","length","map","i","key","textDecoration","color","to","marginRight","onClick","marginTop","renderList","renderListFiltered","marginBottom","backgroundColor","margin","onSubmit","submitHandler","borderBottom","id","tabIndex","role","aria-labelledby","data-dismiss","aria-label","renderStep1","renderStep2","Component"],"mappings":"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","file":"static/js/0.9b32a94f.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport User from '../../../assets/img_avatar.png';\nimport '../style.css';\n\nexport default class index extends Component {\n\n    state = { text: '', isImg: false, selectedImage: '', step: 1, topicId: '' };\n\n    submitHandler(e) {\n        e.preventDefault();\n        const { profile } = this.props;\n        const { text, topicId } = this.state;\n        var data = {\n            topicId: topicId, postedBy: profile._id, feed: text\n        }\n        this.setState({ text: '', isImg: false, selectedImage: '', step: 1, topicId: '' })\n        this.props.submit(data);\n    }\n\n    handleImagePreview(event) {\n        if (event.target.files && event.target.files[0]) {\n            if (event.target.files[0].type === 'image/x-png' || event.target.files[0].type === 'image/png' || event.target.files[0].type === 'image/gif' || event.target.files[0].type === 'image/jpg' || event.target.files[0].type === 'image/jpeg') {\n                this.setState({ selectedImage: URL.createObjectURL(event.target.files[0]), isImg: true });\n            }\n        }\n    }\n\n    renderStep1(profile) {\n        const { text, selectedImage, isImg } = this.state;\n        return <div className=\"modal-body\" style={{ maxHeight: '70vh', overflow: 'auto' }}>\n            <div className=\"col-12\" style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', cursor: 'pointer' }} data-toggle=\"modal\" data-target=\"#postMod\">\n                <img src={profile.image ? profile.image : User} alt=\"user\" style={{ width: '40px', height: '40px', borderRadius: '1000px' }} />\n                <div className=\"d-flex flex-column\">\n                    <h6 className=\"ml-3\" style={{ fontWeight: '600', fontSize: '16px' }}>{profile.name}</h6>\n                </div>\n            </div>\n            <div className=\"col-12 mt-4\">\n                <textarea className=\"post-comm\" value={text} autoFocus placeholder='What do you want to talk about?' onChange={(e) => this.setState({ text: e.target.value })} />\n                {isImg && <img src={selectedImage} alt=\"selected\" style={{ width: '100%', height: '300px' }} />}\n                <div className=\"col-12 p-0 d-flex flex-row justify-content-end\">\n                    {!isImg && <label className=\"btn btn-primary p-1\" style={{ width: '40px', height: '40px', borderRadius: '1000px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <i className=\"fa fa-camera\" aria-hidden=\"true\"></i>\n                        <input type=\"file\" accept=\"image/x-png,image/png,image/gif,image/jpeg,image/jpg\" onChange={(event) => this.handleImagePreview(event)} style={{ display: 'none' }} />\n                    </label>}\n                </div>\n            </div>\n        </div>\n    }\n\n    renderList() {\n        const { list } = this.props;\n        return list && list.length > 0 && list.map(i => <div key={i._id} style={{ textDecoration: 'none', width: 'fit-content', color: 'black' }} className=\"col-lg-6 col-12 d-flex flex-row align-items-center pt-2 pb-2\" to=''>\n            <img src={i.image} alt=\"topic\" style={{ width: '50px', height: '50px', borderRadius: '1000px', marginRight: '16px' }} />\n            <h6 style={{ fontWeight: '400', color: 'grey', fontSize: '14px', cursor: 'pointer' }} onClick={(e) => this.setState({ topicId: i._id })}>{i.name}</h6>\n        </div>);\n    }\n\n    renderListFiltered(topicId) {\n        const { list } = this.props;\n        return list && list.length > 0 && list.map(i => topicId === i._id && <div key={i._id} style={{ textDecoration: 'none', width: 'fit-content', color: 'black' }} className=\"col-12 d-flex flex-row align-items-center pt-2 pb-2\" to=''>\n            <img src={i.image} alt=\"topic\" style={{ width: '50px', height: '50px', borderRadius: '1000px', marginRight: '16px' }} />\n            <h6 style={{ fontWeight: '400', color: 'grey', fontSize: '14px', cursor: 'pointer', marginTop: '8px' }} onClick={(e) => this.setState({ topicId: '' })}>{i.name} <span className=\"fa fa-times ml-1\"></span></h6>\n        </div>);\n    }\n\n    renderStep2() {\n        const { topicId } = this.state;\n        return <div className=\"modal-body\" style={{ maxHeight: '70vh', overflow: 'auto' }}>\n            <h6 style={{ fontWeight: '600', fontSize: '16px' }}>Select Community</h6>\n            <div className=\"col-12 d-flex flex-row flex-wrap\">\n                {topicId === '' ? this.renderList() : this.renderListFiltered(topicId)}\n            </div>\n        </div>\n    }\n\n    render() {\n        const { profile } = this.props;\n        const { step } = this.state;\n        return <form className={\"col-12 p-0 ask-something\"} style={{ borderRadius: \"5px\", display: 'flex', flexDirection: 'column', marginBottom: '30px !important', backgroundColor: '#faf9f9', alignItems: 'center',width: `95%`,margin: `0 auto` }}\n            onSubmit={(e) => this.submitHandler(e)}>\n            <div className=\"col-12 pt-3 pb-2 pl-4\" style={{borderRadius: \"5px\", backgroundColor: \"#f3f5f6\", borderBottom: '1px solid #dddfe2' }}>\n                <h6 style={{ fontSize: \"16px\", fontWeight: '600', color: 'grey' }}>Ask Somthing</h6>\n            </div>\n            <div className=\"col-12 p-4\" style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', cursor: 'pointer' }} data-toggle=\"modal\" data-target=\"#postMod\">\n                <img src={profile.image ? profile.image : User} alt=\"user\" style={{ width: '40px', height: '40px', borderRadius: '50px' }} />\n                <h6 className=\"ml-3\" style={{ fontWeight: '600', fontSize: '15px', color: 'grey' }}>Hi {profile.name} ! What is on your mind?</h6>\n            </div>\n            <div className=\"modal fade\" id=\"postMod\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"Post\" aria-hidden=\"true\">\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header bg-danger\" style={{ color: 'white' }}>\n                            <h5 className=\"modal-title\">Create post</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span className=\"fa fa-times\" style={{ color: 'white' }}></span>\n                            </button>\n                        </div>\n                        {step === 1 && this.renderStep1(profile)}\n                        {step === 2 && this.renderStep2(profile)}\n                        <div className=\"modal-footer\">\n                            {step === 1 && <button type=\"button\" className=\"btn btn-primary\" onClick={(e) => this.setState({ step: 2 })}>Next <span className=\"fa fa-arrow-right ml-2\"></span></button>}\n                            {step === 2 && <button type=\"button\" className=\"btn btn-primary\" onClick={(e) => this.setState({ step: 1 })}>Back <span className=\"fa fa-arrow-left ml-2\"></span></button>}\n                            {step === 2 && <button type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\" className=\"btn btn-primary\" onClick={(e) => this.submitHandler(e)}> Post <span className=\"fa fa-send ml-2\"></span></button>}\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </form >\n    }\n}"],"sourceRoot":""}